<div class="container-fluid post-card">
  <p id="notice"><%= notice %></p>
  <%= cl_image_tag @post.photo, height: 100, width: 100, crop: :fill %>
  <h2 class="text-center"><%= @post.title %></h2>

  <p><%= @post.description %></p>

  <hr>

  <div class="employee">
    <ul class="list-unstyled">
      <li><strong>Employee Name</strong>: <%= @post.employee_name %></li>
      <li><strong>Employee Main Skills</strong>: <%= @post.employee_skill %></li>
    </ul>
  </div>

  <hr>

  <div class="user-info">
    <ul class="list-unstyled">
      <li><strong>Company name</strong>: ...</li>
      <li><strong>Company specialty</strong>: ...</li>
      <li><strong>More company infos</strong>: ...</li>
    </ul>
  </div>
  <div id="map"></div>
  <div class="text-center">
    <%= link_to "I am interested", new_post_mission_path(@post), class: "btn btn-danger" %>
  </div>
</div>


<script src="https://maps.google.com/maps/api/js?sensor=false"></script>
<script src="https://google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>

<!-- Require jQuery and Google map For rails javascript lib -->
<script src="https://wagon-google-maps-markers.herokuapp.com/assets/application-5034196864c74ae1cc5f12e6d1f71223.js" type="text/javascript"></script>

<% content_for(:after_js) do %>
  <%= javascript_tag do %>
    $(document).ready(function() {
    var coord = <%= raw @user_coordinates.to_json %>;
    var handler = Gmaps.build('Google');
        handler.buildMap({ internal: { id: 'map' } }, function(){
        marker = handler.addMarkers([
              { "lat": coord.lat, "lng": coord.lng }
            ]);
          handler.bounds.extendWith(marker);
          handler.fitMapToBounds();
    });
  })
  <% end %>
<% end %>


