<div class="container card">
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-sm-offset-3">
      <p id="notice"><%= notice %></p>

      <h2 class="text-center"><%= @post.title %></h2>

      <ul class="list-unstyled">
        <li><%= @post.description %></li>
        <li><%= @post.date_begin %> - <%= @post.date_end %></li>
      </ul>

      <hr>

      <div class="employee">
        <ul class="list-unstyled">
          <li><%= @post.employee_name %></li>
          <li><%= @post.employee_skill %></li>
        </ul>
      </div>

      <hr>

      <div class="user-info">
        <ul class="list-unstyled">
          <li>Company name: ...</li>
          <li>Company specialty: ...</li>
          <li>More company infos: ...</li>
        </ul>
      </div>
      <div id="map"></div>

      <%= link_to "I am interested", new_post_mission_path(@post) %>
    </div>
  </div>
</div>


   <script src="https://maps.google.com/maps/api/js?sensor=false"></script>
    <script src="https://google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>

    <!-- Require jQuery and Google map For rails javascript lib -->
    <script src="https://wagon-google-maps-markers.herokuapp.com/assets/application-5034196864c74ae1cc5f12e6d1f71223.js" type="text/javascript"></script>

<% content_for(:js) do %>
  <%= javascript_tag do %>
    $(document).ready(function() {
    var coord = <%= raw @user_coordinates.to_json %>;
    var handler = Gmaps.build('Google');
        handler.buildMap({ internal: { id: 'map' } }, function(){
        marker = handler.addMarkers([
              { "lat": coord.lat, "lng": coord.lng }
            ]);
          handler.bounds.extendWith(marker);
          handler.fitMapToBounds();
    });
  })
  <% end %>
<% end %>


